{"ast":null,"code":"import axios from 'axios';\nconst API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nexport function saveSession({\n  token,\n  user\n}) {\n  if (token) localStorage.setItem('token', token);\n  if (user) localStorage.setItem('user', JSON.stringify(user));\n}\nexport function clearSession() {\n  localStorage.removeItem('token');\n  localStorage.removeItem('user');\n}\nexport function getToken() {\n  return localStorage.getItem('token');\n}\nexport function getUser() {\n  const raw = localStorage.getItem('user');\n  return raw ? JSON.parse(raw) : null;\n}\nexport async function loginApi(credentials) {\n  try {\n    const response = await axios.post(`${API_BASE}/Auth/login`, credentials);\n    return response.data;\n  } catch (error) {\n    var _error$response, _error$response$data;\n    throw new Error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Giriş yapılırken hata oluştu');\n  }\n}\nexport async function registerApi(userData) {\n  try {\n    const response = await axios.post(`${API_BASE}/Auth/register`, userData);\n    return response.data;\n  } catch (error) {\n    var _error$response2, _error$response2$data;\n    throw new Error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Kayıt olurken hata oluştu');\n  }\n}","map":{"version":3,"names":["axios","API_BASE","process","env","REACT_APP_API_URL","saveSession","token","user","localStorage","setItem","JSON","stringify","clearSession","removeItem","getToken","getItem","getUser","raw","parse","loginApi","credentials","response","post","data","error","_error$response","_error$response$data","Error","message","registerApi","userData","_error$response2","_error$response2$data"],"sources":["C:/Users/DELL/Desktop/yeniden/TaskManager/TaskManagerFrontend/src/services/auth.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nexport function saveSession({ token, user }) {\r\n  if (token) localStorage.setItem('token', token);\r\n  if (user) localStorage.setItem('user', JSON.stringify(user));\r\n}\r\n\r\nexport function clearSession() {\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('user');\r\n}\r\n\r\nexport function getToken() {\r\n  return localStorage.getItem('token');\r\n}\r\n\r\nexport function getUser() {\r\n  const raw = localStorage.getItem('user');\r\n  return raw ? JSON.parse(raw) : null;\r\n}\r\n\r\nexport async function loginApi(credentials) {\r\n  try {\r\n    const response = await axios.post(`${API_BASE}/Auth/login`, credentials);\r\n    return response.data;\r\n  } catch (error) {\r\n    throw new Error(error.response?.data?.message || 'Giriş yapılırken hata oluştu');\r\n  }\r\n}\r\n\r\nexport async function registerApi(userData) {\r\n  try {\r\n    const response = await axios.post(`${API_BASE}/Auth/register`, userData);\r\n    return response.data;\r\n  } catch (error) {\r\n    throw new Error(error.response?.data?.message || 'Kayıt olurken hata oluştu');\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;AAE7E,OAAO,SAASC,WAAWA,CAAC;EAAEC,KAAK;EAAEC;AAAK,CAAC,EAAE;EAC3C,IAAID,KAAK,EAAEE,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,KAAK,CAAC;EAC/C,IAAIC,IAAI,EAAEC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC,CAAC;AAC9D;AAEA,OAAO,SAASK,YAAYA,CAAA,EAAG;EAC7BJ,YAAY,CAACK,UAAU,CAAC,OAAO,CAAC;EAChCL,YAAY,CAACK,UAAU,CAAC,MAAM,CAAC;AACjC;AAEA,OAAO,SAASC,QAAQA,CAAA,EAAG;EACzB,OAAON,YAAY,CAACO,OAAO,CAAC,OAAO,CAAC;AACtC;AAEA,OAAO,SAASC,OAAOA,CAAA,EAAG;EACxB,MAAMC,GAAG,GAAGT,YAAY,CAACO,OAAO,CAAC,MAAM,CAAC;EACxC,OAAOE,GAAG,GAAGP,IAAI,CAACQ,KAAK,CAACD,GAAG,CAAC,GAAG,IAAI;AACrC;AAEA,OAAO,eAAeE,QAAQA,CAACC,WAAW,EAAE;EAC1C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMrB,KAAK,CAACsB,IAAI,CAAC,GAAGrB,QAAQ,aAAa,EAAEmB,WAAW,CAAC;IACxE,OAAOC,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAC,eAAA,EAAAC,oBAAA;IACd,MAAM,IAAIC,KAAK,CAAC,EAAAF,eAAA,GAAAD,KAAK,CAACH,QAAQ,cAAAI,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBF,IAAI,cAAAG,oBAAA,uBAApBA,oBAAA,CAAsBE,OAAO,KAAI,8BAA8B,CAAC;EAClF;AACF;AAEA,OAAO,eAAeC,WAAWA,CAACC,QAAQ,EAAE;EAC1C,IAAI;IACF,MAAMT,QAAQ,GAAG,MAAMrB,KAAK,CAACsB,IAAI,CAAC,GAAGrB,QAAQ,gBAAgB,EAAE6B,QAAQ,CAAC;IACxE,OAAOT,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAO,gBAAA,EAAAC,qBAAA;IACd,MAAM,IAAIL,KAAK,CAAC,EAAAI,gBAAA,GAAAP,KAAK,CAACH,QAAQ,cAAAU,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBR,IAAI,cAAAS,qBAAA,uBAApBA,qBAAA,CAAsBJ,OAAO,KAAI,2BAA2B,CAAC;EAC/E;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}